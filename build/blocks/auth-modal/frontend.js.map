{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://udemy-plus/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n\tconst openModalBtn = document.querySelectorAll('.open-modal')\r\n\tconst modalEl = document.querySelector(\r\n\t\t'.wp-block-udemy-plus-auth-modal'\r\n\t)\r\n\tconst modalCloseEl = document.querySelectorAll(\r\n\t\t'.modal-overlay, .modal-btn-close'\r\n\t)\r\n\r\n\topenModalBtn.forEach(el => {\r\n\t\tel.addEventListener('click', event => {\r\n\t\t\tevent.preventDefault()\r\n\r\n\t\t\tmodalEl.classList.add('modal-show')\r\n\t\t})\r\n\t})\r\n\r\n\tmodalCloseEl.forEach(el => {\r\n\t\tel.addEventListener('click', event => {\r\n\t\t\tevent.preventDefault()\r\n\r\n\t\t\tmodalEl.classList.remove('modal-show')\r\n\t\t})\r\n\t})\r\n\r\n\tconst tabs = document.querySelectorAll('.tabs a')\r\n\tconst signinForm = document.querySelector('#signin-tab')\r\n\tconst signupForm = document.querySelector('#signup-tab')\r\n\r\n\ttabs.forEach(tab => {\r\n\t\ttab.addEventListener('click', event => {\r\n\t\t\tevent.preventDefault()\r\n\r\n\t\t\ttabs.forEach(currentTab => {\r\n\t\t\t\tcurrentTab.classList.remove('active-tab')\r\n\t\t\t})\r\n\r\n\t\t\tevent.currentTarget.classList.add('active-tab')\r\n\r\n\t\t\tconst activeTab = event.currentTarget.getAttribute('href')\r\n\r\n\t\t\tif (activeTab === '#signin-tab') {\r\n\t\t\t\tsigninForm.style.display = 'block'\r\n\t\t\t\tsignupForm.style.display = 'none'\r\n\t\t\t} else {\r\n\t\t\t\tsigninForm.style.display = 'none'\r\n\t\t\t\tsignupForm.style.display = 'block'\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n\r\n\tsignupForm.addEventListener('submit', async event => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst signupFieldset = signupForm.querySelector('fieldset')\r\n\t\tsignupFieldset.setAttribute('disabled', true)\r\n\r\n\t\tconst signupStatus = signupForm.querySelector('#signup-status')\r\n\t\tsignupStatus.innerHTML = `\r\n\t\t\t<div class=\"modal-status modal-status-info\">\r\n\t\t\t\tPlease wait! We are creating your account.\r\n\t\t\t</div>\r\n\t\t`\r\n\r\n\t\tconst formData = {\r\n\t\t\tusername: signupForm.querySelector('#su-name').value,\r\n\t\t\temail: signupForm.querySelector('#su-email').value,\r\n\t\t\tpassword: signupForm.querySelector('#su-password').value\r\n\t\t}\r\n\r\n\t\tconst response = await fetch(up_auth_rest.signup, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(formData)\r\n\t\t});\r\n\r\n\t\tconst responseJSON = await response.json()\r\n\r\n\t\tif(responseJSON.status === 2) {\r\n\t\t\tsignupStatus.innerHTML = `\r\n\t\t\t\t<div class=\"modal-status modal-status-success\">\r\n\t\t\t\t\tSuccess! Your account has been created.\r\n\t\t\t\t</div>\r\n\t\t\t`\r\n\t\t\tlocation.reload()\r\n\t\t} else {\r\n\t\t\tsignupFieldset.removeAttribute('disabled')\r\n\t\t\tsignupStatus.innerHTML = `\r\n\t\t\t\t<div class=\"modal-status modal-status-danger\">\r\n\t\t\t\t\tUnable to create account! Please try again later.\r\n\t\t\t\t</div>\r\n\t\t\t`\r\n\t\t}\r\n\t})\r\n})"],"names":["document","addEventListener","openModalBtn","querySelectorAll","modalEl","querySelector","modalCloseEl","forEach","el","event","preventDefault","classList","add","remove","tabs","signinForm","signupForm","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signupFieldset","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","up_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute"],"sourceRoot":""}